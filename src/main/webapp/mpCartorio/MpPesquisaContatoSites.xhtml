<ui:composition template="/WEB-INF/template/MpLayoutPadrao.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:b="http://bootsfaces.net/ui"
    xmlns:p="http://primefaces.org/ui">

	<f:metadata>
   		<f:viewParam name="idC" value="#{mpContatoSiteBean.idC}" />
	
   		<f:viewAction action="#{mpContatoSiteBean.init}" />
	</f:metadata>

	<ui:define name="corpo">

		<ui:include src="/WEB-INF/template/MpBotoesPadrao.xhtml" /> 

		<ui:param name="root" value="#{request.contextPath}" />

		<b:jumbotron fluid="true">
			<b:row>
				<b:column col-md="3" />
				<b:column col-md="6">
					<h3>Consulta Contato pelo Site</h3>
				</b:column>
				<b:column col-md="3" />
			</b:row>

			<b:row>
				<b:column col-md="1" />
				<b:column col-md="10">
					<h:form id="frmPesqCont">
						<b:growl id="growlPesqCont" placementFrom="top" delay="1000" escape="true" />
					
						<b:dataTable value="#{mpContatoSiteBean.mpContatoSiteList}" fieldId="dataTable" 
							name="dataTable" var="mpContatoSiteX" class="edtContatoSiteTab"
							customLangUrl="//cdn.datatables.net/plug-ins/1.10.12/i18n/Portuguese-Brasil.json"
							reflow="true" style="margin-top:20px"
							emptyMessage="Nenhum registro encontrado." rows="10"
							paginator="true" paginatorAlwaysVisible="false"
							paginatorPosition="top">								
							<b:dataTableColumn value="#{mpContatoSiteX.dataContatoSDF}" order="asc" label="Data/Hora" />
							<b:dataTableColumn value="#{mpContatoSiteX.nome}" />
							<b:dataTableColumn value="#{mpContatoSiteX.email}" />
							<b:dataTableColumn value="#{mpContatoSiteX.telefone}" />
							<b:dataTableColumn value="#{mpContatoSiteX.assunto}"  />
							<b:dataTableColumn value="#{mpContatoSiteX.mensagem}" />
							<b:dataTableColumn value="#{mpContatoSiteX.mpCartorioOficio.nome}" label="Cartório" />
							<b:dataTableColumn value="#{mpContatoSiteX.responsavel}" label="Responsável" />
							<b:dataTableColumn label="Status">
								<b:label text="#{mpContatoSiteX.mpStatusContatoSite.descricao}" severity="danger"
																		rendered="#{mpContatoSiteX.isNovo()}" />
								<b:label text="#{mpContatoSiteX.mpStatusContatoSite.descricao}" severity="primary"
																		rendered="#{not mpContatoSiteX.isNovo()}" />
							</b:dataTableColumn>
        					<b:dataTableColumn label="Ação">
            					<b:commandButton value="Concluir" icon="edit" update="frmPesqCont"
                					onclick="ajax:mpContatoSiteBean.mpConclui()" rendered="#{mpContatoSiteX.isNovo()}">
                					<f:param name="idC" value="#{mpContatoSiteX.id}" />
                				</b:commandButton>
            					<b:commandButton value="Ok" iconAwesome="thumbs-up" 
            										rendered="#{not mpContatoSiteX.isNovo()}" disabled="true" />								            										
       						</b:dataTableColumn>
       					</b:dataTable>
					</h:form>
				</b:column>
				<b:column col-md="1" />
			</b:row>
		</b:jumbotron>

	</ui:define>

</ui:composition>




